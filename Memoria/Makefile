# Nombre del documento sin la extensi贸n
DOCNAME = Memoria

# Compilador de LaTeX
COMPILER = pdflatex
BIBTEX=bibtex

# Opciones del compilador
# -shell-escape permite la ejecuci贸n de comandos externos, necesario si usas el paquete minted
COMPILER_OPTS = -shell-escape

# Limpia archivos auxiliares
CLEAN = rm -f $(DOCNAME).aux $(DOCNAME).log $(DOCNAME).out $(DOCNAME).toc $(DOCNAME).lof $(DOCNAME).lot $(DOCNAME).bbl $(DOCNAME).blg $(DOCNAME).idx $(DOCNAME).ind $(DOCNAME).ilg $(DOCNAME).synctex.gz

# Por defecto, hacer todo
all: $(DOCNAME).pdf

# C贸mo construir el PDF
$(DOCNAME).pdf: $(DOCNAME).tex
	$(COMPILER) $(COMPILER_OPTS) $(DOCNAME).tex
	$(COMPILER) $(COMPILER_OPTS) $(DOCNAME).tex  # Segunda compilaci贸n para referencias cruzadas
	$(BIBTEX) $(DOCNAME)
	$(COMPILER) $(COMPILER_OPTS) $(DOCNAME).tex
	$(COMPILER) $(COMPILER_OPTS) $(DOCNAME).tex

# Comando para limpiar los archivos auxiliares
clean:
	$(CLEAN)

# Comando para limpiar todo, incluido el PDF
distclean:
	$(CLEAN)
	rm -f $(DOCNAME).pdf

# Evita problemas con archivos que puedan tener nombres conflictivos
.PHONY: all clean distclean

